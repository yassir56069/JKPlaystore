@using JKPlaystore.Components.DynamicTables
@using JKPlaystore.Components.DynamicTables.Inserts
@using JKPlaystore.Data
@using JKPlaystore.Models
@using Microsoft.EntityFrameworkCore
@inject ApplicationDbContext DbContext

@rendermode pageRenderMode

@page "/Tokens"

<div class="" style="padding-top: 30px; padding-left: 30px;">
	<h1>
		Tokens
	</h1>
	
	<p style="padding-left: 10px;"> You can add tokens and view existing tokens on this page. </p>
</div>
<div class="flex-center p-h1">
	<div class="flex-center-w flex-column" style="width: 100%;">
		<div class=" dynamic-query-fill m-2 p-3">
			<h2> Add New Token </h2>
			<InsertTokenQuery DatabaseContext="@DbContext" />
		</div>
		<div class="m-2 p-3 dynamic-query-fill ">
			<h2> View Tokens </h2>
			<SearchableDynamicTable DbContext="@DbContext.Tokens" ColumnsToShow="@(new[] { "TokenID","TokenValue","CustomerKey" , "TokenInitDate", "TokenExpiry"})" RowLimit="1000" />
		</div>
		
	</div>
</div>

@code {
	private static IComponentRenderMode pageRenderMode = InteractiveServer;
}
